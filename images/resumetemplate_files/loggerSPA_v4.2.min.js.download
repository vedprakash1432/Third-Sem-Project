!function(){"use strict";function a(){return x||(x=new(Function.prototype.bind.apply(b,[null].concat(Array.prototype.slice.call(arguments))))),x}function b(a,b,c,d,e,f){this.appId=a,this.eReport=b,this.errorURL=c,this.maxErs=d,this.errCount=e,this.tag=f||""}function c(b,c,d,e,f,g,h,i,j,k){var l=a(b,c,d,e,f,i,j,k);return h&&h.map(function(a){l.logError("",a.msg,a.url,a.line,null)}),window.onerror=function(a,b,c){l.logError("",a,b,c,null)},l}function d(a){for(var b=0;b<a.length;b++)logger.util.sendBeacon(a[b]+"&rad="+Math.random(),function(b){return function(){var c=a.indexOf(b);a.splice(c,1)}}(a[b]))}function e(a,b,c,e,f,g){var h=A.display.width+"x"+A.display.height,i=B={coord:null,screenRes:h,appId:a,url:b,tag:c||"",eventName:e.eventName,tenantId:f,deviceType:e.deviceType},j=JSON.parse(localStorage.getItem("hpData"));j?d(j):j=[],logger.util.on({elem:window,name:"load",func:function(){logger.util.getScript(e.pluginBaseUrl,function(){if("undefined"!=typeof HEATMAP){HEATMAP.init();try{window.setInterval(function(){try{(i.coord=HEATMAP.get_coord()).length&&(j.push(e.beaconUrl+"?data="+logger.util.stringify(i)),d(j))}catch(a){}},e.interval||5e3)}catch(a){}}})}}),logger.util.on({elem:window,name:"beforeunload",func:function(){try{(i.coord=HEATMAP.get_coord()).length&&j.push(e.beaconUrl+"?data="+logger.util.stringify(i)),j&&localStorage.setItem("hpData",JSON.stringify(j))}catch(a){}}})}function f(a,b,c,d,e,f,g,h,i){d=!1,BOOMR.init({beacon_callback:function(b){b.appId=e,b.tag=f,b.eventName=g,b.tenantId=h,b.deviceType=i,"none"!=b["rt.start"]&&window.logger.util.reportData(b,a)},user_ip:c,BW:{enabled:d,base_url:b,cookie:"HOWTOBA"},autorun:!0,RT:{cookie:"HOWTORT",strict_referrer:!1,cookie_exp:120}})}function g(a){logger.util.on({elem:window,name:"load",func:function(){logger.util.getScript(a.scriptURL,function(){window.logger.bot&&logger.bot.init(a)})}})}function h(a){logger.util.on({elem:window,name:"load",func:function(){logger.util.getScript(a.scriptURL,function(){window.logger.tnm&&logger.tnm.init(a)})}})}function i(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{error:[]},d=encodeURIComponent(a.origin||document.location.href),i=a.appId||0,j=a.userIP,k=a.tag?a.tag+"-nmit":"",l=a.tenantId,m=(a.deviceType,a.nLogger);if(m){var n=!0,o=m.beaconUrl,p=m.maxErrors||10,q=1;c(i,n,o,p,q,k,b.error,m.eventName,l,m.deviceType)}var m=a.boomerang;if(m){var r=m.beaconUrl,s=m.imageURL,t=!("undefined"!=typeof m.logBW&&!m.logBW);f(r,s,j,t,i,k,m.eventName,l,m.deviceType)}var m=a.heatmap;m&&e(i,d,k,m,l,m.deviceType);var m=a.bot;m&&g({tagName:k,scriptURL:m.pluginBaseUrl,dataURL:m.beaconUrl,appId:i});var m=a.tnm;m&&h({tagName:k,scriptURL:m.pluginBaseUrl,dataURL:m.beaconUrl,appId:i,eventName:m.eventName,tenantId:l,deviceType:m.deviceType})}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k={on:function(a){window.addEventListener?a.elem.addEventListener(a.name,function(b){a.func.call(this,b)}):a.elem.attachEvent("on"+a.name,function(){a.func.call(window.event.srcElement,window.event)})},getScript:function(a,b,c){var d=document.createElement("script"),e=function(){b(),d.parentNode&&(c?d.parentNode.removeChild(d):"")};return document.head.appendChild(d),d.readyState?this.on({elem:d,name:"readystatechange",func:function(a){var b=this.readyState;"loaded"!==b&&"complete"!==b||setTimeout(function(){e()},100)}}):this.on({elem:d,name:"load",func:function(){e(d)}}),d.async=!0,d.src=a,d},sendBeacon:function(a,b){this.getScript(a,b||function(){},!0)},isWhiteListed:function(a){return!0},reportData:function(a,b,c){a&&b&&this.sendBeacon(b+"?data="+this.stringify(a)+"&rad="+Math.random(),c)},stringify:function(a){return"undefined"==typeof JSON&&(JSON={},JSON.stringify=function(a){var b="";for(key in a)a.hasOwnProperty(key)&&(b+="object"!=j(a[key])?'"'+key+'":"'+a[key]+'",':'"'+key+'":'+JSON.stringify(a[key])+",");return b=b.replace(/,$/,""),"{"+b+"}"}),JSON.stringify(a)}};window.logger=window.logger||{},window.logger.util=k;var l=navigator.userAgent,m=navigator.appVersion,n=navigator.appName,o="unknown",p="unknown",q="unknown",r=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var s in r){var t=r[s];if(t.r.test(l)){o=t.s;break}}switch(/Windows/.test(o)&&(p=/Windows (.*)/.exec(o)[1],o="Windows"),o){case"Mac OS X":p=/Mac OS X (10[\.\_\d]+)/.exec(l)[1];break;case"Android":p=/Android ([\.\_\d]+)/.exec(l)[1];break;case"iOS":p=/OS (\d+)_(\d+)_?(\d+)?/.exec(m),p=p[1]+"."+p[2]+"."+(0|p[3])}var u;if((u=l.indexOf("Opera"))!=-1)n="Opera",q=l.substring(u+6),(u=l.indexOf("Version"))!=-1&&(q=l.substring(u+8));else if(l.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/)){n="Microsoft IE";var v=l.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);q=parseInt(v[1])}else if((u=l.indexOf("Chrome"))!=-1){n="Chrome";var w=l.substring(u+7);q=w.match(/\d+.\d+.\d+/)[0]}else(u=l.indexOf("Safari"))!=-1?(n="Safari",q=l.substring(u+7),(u=l.indexOf("Version"))!=-1&&(q=l.substring(u+8))):(u=l.indexOf("Firefox"))!=-1&&(n="Firefox",q=l.substring(u+8));var x,y=screen.width,z=screen.height,A={os:{name:o,version:p},browser:{name:n,version:q},display:{width:y,height:z}};b.prototype={logError:function(a,b,c,d,e){var f;""==a&&(a="Unknown");var g={},h={file:["\\.logs\\.naukri\\.com/"],message:["Script error\\."]};if("undefined"!=typeof b&&this.errCount<=this.maxErs){this.errCount++,f={source:"browser",appId:this.appId,environment:A,eventName:this.eventName,tenantId:this.tenantId,deviceType:this.deviceType,exceptions:[{tag:this.tag,type:a,message:b,file:c?encodeURIComponent(c):null,line:d?d:null,catchIdentifier:e?e:null,screenResolution:this.screenRes,origin:this.orig}]},g.file_flag=logger.util.isWhiteListed(f.exceptions[0].file);for(var i in h){var j=h[i];for(var k in j){var l;l="file"==i?decodeURIComponent(f.exceptions[0][i]):f.exceptions[0][i],(f.exceptions[0][i]||"").match(j[k])&&(h[i+"_flag"]=!0)}}!g.file_flag||h.file_flag||h.message_flag||this.reportErrData(f,this.errorURL),this.errors=[]}},throwErr:function(a,b){this.eReport&&this.logError(a.name,a.message,null,null,b)},reportErrData:function(a,b){a&&b&&logger.util.sendBeacon(b+"?data="+logger.util.stringify(a)+"&rad="+Math.random())},onviewContentLoaded:function(a,b){this.tag=b}};var B=void 0,C=(new Date).getTime();!function(a){a.parent!==a&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(a=a.parent);var b,c,d,e=a.document;if(void 0===a.BOOMR&&(a.BOOMR={}),BOOMR=a.BOOMR,!BOOMR.version){BOOMR.version="0.9",BOOMR.window=a,b={beacon_url:"",site_domain:a.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],click:[]},vars:{},disabled_plugins:{},onclick_handler:function(c){var d;c||(c=a.event),c.target?d=c.target:c.srcElement&&(d=c.srcElement),3===d.nodeType&&(d=d.parentNode),d&&"OBJECT"===d.nodeName.toUpperCase()&&"application/x-shockwave-flash"===d.type||b.fireEvent("click",d)},fireEvent:function(a,b){var c,d,e;if(!this.events.hasOwnProperty(a))return!1;for(e=this.events[a],c=0;c<e.length;c++)d=e[c],d[0].call(d[2],b,d[1]);return!0},addListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}},c={t_start:C,t_end:null,utils:{objectToString:function(a,b){var c,d=[];if(!a||"object"!==("undefined"==typeof a?"undefined":j(a)))return a;void 0===b&&(b="\n\t");for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&d.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return d.join(b)},getCookie:function(a){if(!a)return null;a=" "+a+"=";var b,c;return c=" "+e.cookie+";",(b=c.indexOf(a))>=0?(b+=a.length,c=c.substring(b,c.indexOf(";",b))):null},setCookie:function(a,c,d){var f,g,h,i;return!(!a||!b.site_domain)&&(f=this.objectToString(c,"&"),g=a+"="+f,h=[g,"path=/","domain="+b.site_domain],d&&(i=new Date,i.setTime(i.getTime()+1e3*d),i=i.toGMTString(),h.push("expires="+i)),g.length<4e3&&(e.cookie=h.join("; "),f===this.getCookie(a)))},getSubCookies:function(a){var b,c,d,e,f={};if(!a)return null;if(b=a.split("&"),0===b.length)return null;for(c=0,d=b.length;c<d;c++)e=b[c].split("="),e.push(""),f[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return f},removeCookie:function(a){return this.setCookie(a,{},0)},pluginConfig:function(a,b,c,d){var e,f=0;if(!b||!b[c])return!1;for(e=0;e<d.length;e++)void 0!==b[c][d[e]]&&(a[d[e]]=b[c][d[e]],f++);return f>0}},init:function(c){var d,f,g=["beacon_url","site_domain","user_ip","beacon_callback"];for(c||(c={}),d=0;d<g.length;d++)void 0!==c[g[d]]&&(b[g[d]]=c[g[d]]);void 0!==c.log&&(this.log=c.log),this.log||(this.log=function(){});for(f in this.plugins)if(this.plugins.hasOwnProperty(f)){if(c[f]&&c[f].hasOwnProperty("enabled")&&c[f].enabled===!1){b.disabled_plugins[f]=1;continue}b.disabled_plugins[f]&&delete b.disabled_plugins[f],"function"==typeof this.plugins[f].init&&this.plugins[f].init(c)}return b.handlers_attached?this:(b.onloadfired||void 0!==c.autorun&&c.autorun===!1||(e.readyState&&"complete"===e.readyState?this.setImmediate(BOOMR.page_ready,null,null,BOOMR):a.onpagehide||null===a.onpagehide?b.addListener(a,"pageshow",BOOMR.page_ready):b.addListener(a,"load",BOOMR.page_ready)),b.addListener(a,"DOMContentLoaded",function(){b.fireEvent("dom_loaded")}),function(){var c=function(){b.fireEvent("visibility_changed")};e.webkitVisibilityState?b.addListener(e,"webkitvisibilitychange",c):e.msVisibilityState?b.addListener(e,"msvisibilitychange",c):e.visibilityState&&b.addListener(e,"visibilitychange",c),b.addListener(e,"mouseup",b.onclick_handler),a.onpagehide||null===a.onpagehide||b.addListener(a,"unload",function(){BOOMR.window=a=null})}(),b.handlers_attached=!0,this)},page_ready:function(){return b.onloadfired?this:(b.fireEvent("page_ready"),b.onloadfired=!0,this)},setImmediate:function(b,c,d,e){var f=function(){b.call(e||null,c,d||{}),f=null};a.setImmediate?a.setImmediate(f):a.msSetImmediate?a.msSetImmediate(f):a.webkitSetImmediate?a.webkitSetImmediate(f):a.mozSetImmediate?a.mozSetImmediate(f):setTimeout(f,10)},subscribe:function(c,d,e,f){var g,h,i,j;if(!b.events.hasOwnProperty(c))return this;for(i=b.events[c],g=0;g<i.length;g++)if(h=i[g],h[0]===d&&h[1]===e&&h[2]===f)return this;return i.push([d,e||{},f||null]),"page_ready"===c&&b.onloadfired&&this.setImmediate(d,null,e,f),"page_unload"===c&&(j=function(b){d&&d.call(f,b||a.event,e)},a.onpagehide||null===a.onpagehide?b.addListener(a,"pagehide",j):b.addListener(a,"unload",j),b.addListener(a,"beforeunload",j)),this},addVar:function(a,c){if("string"==typeof a)b.vars[a]=c;else if("object"===("undefined"==typeof a?"undefined":j(a))){var d,e=a;for(d in e)e.hasOwnProperty(d)&&(b.vars[d]=e[d])}return this},removeVar:function(a){var c,d;if(!arguments.length)return this;for(d=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(a)?a:arguments,c=0;c<d.length;c++)b.vars.hasOwnProperty(d[c])&&delete b.vars[d[c]];return this},sendBeacon:function(){var c,d,f,g=0;for(c in this.plugins)if(this.plugins.hasOwnProperty(c)){if(b.disabled_plugins[c])continue;if(!this.plugins[c].is_complete())return this}b.vars.v=BOOMR.version,b.vars.u="nmit-"+e.URL.replace(/#.*/,""),a!==window&&(b.vars["if"]="");var h=a.performance||a.msPerformance||a.webkitPerformance||a.mozPerformance;if(h&&h.timing){var i=h.timing;i&&BOOMR.addVar("nt_dns",i.domainLookupEnd-i.domainLookupStart)}if(b.fireEvent("before_beacon",b.vars),BOOMR.removeVar("rt.bstart","rt.end","rt.tstart","v"),"function"==typeof b.beacon_callback){d={};for(c in b.vars)b.vars.hasOwnProperty(c)&&(g++,d[encodeURIComponent(c)]=void 0===b.vars[c]||null===b.vars[c]?"":"object"!=j(b.vars[c])?encodeURIComponent(b.vars[c]):b.vars[c])}else{d=[];for(c in b.vars)b.vars.hasOwnProperty(c)&&(g++,d.push(encodeURIComponent(c)+"="+(void 0===b.vars[c]||null===b.vars[c]?"":encodeURIComponent(b.vars[c]))))}return g&&("function"==typeof b.beacon_callback?b.beacon_callback(d):(d=b.beacon_url+(b.beacon_url.indexOf("?")>-1?"&":"?")+d.join("&"),BOOMR.debug("Sending url: "+d.replace(/&/g,"\n\t")),f=new Image,f.src=d)),this}},function(){var a=function(a){return function(b,c){return this.log(b,a,"boomerang"+(c?"."+c:"")),this}};c.debug=a("debug"),c.info=a("info"),c.warn=a("warn"),c.error=a("error")}(),a.YAHOO&&a.YAHOO.widget&&a.YAHOO.widget.Logger?c.log=a.YAHOO.log:a.Y&&a.Y.log?c.log=a.Y.log:"object"===("undefined"==typeof console?"undefined":j(console))&&void 0!==console.log&&(c.log=function(a,b,c){});for(d in c)c.hasOwnProperty(d)&&(BOOMR[d]=c[d]);BOOMR.plugins=BOOMR.plugins||{}}}(window),function(a){var b,c=a.document;BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},b={initialized:!1,complete:!1,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,t_start:void 0,t_fb_approx:void 0,r:void 0,r2:void 0,setCookie:function(a,b){var d,e,f=(new Date).getTime();return this.cookie?(e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{},a&&(e[a]=f),e.r=c.URL.replace(/#.*/,""),"cl"===a&&(b?e.nu=b:e.nu&&delete e.nu),b===!1&&delete e.nu,BOOMR.debug("Setting cookie "+BOOMR.utils.objectToString(e),"rt"),BOOMR.utils.setCookie(this.cookie,e,this.cookie_exp)?(d=(new Date).getTime(),d-f>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+f+" -> "+d,"rt")),this):(BOOMR.error("cannot set start cookie","rt"),this)):this},initFromCookie:function(){var a;this.cookie&&(a=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie)),a&&(a.s=Math.max(+a.ul||0,+a.cl||0),BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(a),"rt"),a.s&&a.r&&(this.r=a.r,!this.strict_referrer||this.r===this.r2||a.s===+a.cl&&a.nu===c.URL.replace(/#.*/,"")?(this.t_start=a.s,+a.hd>a.s&&(this.t_fb_approx=parseInt(a.hd,10))):this.t_start=this.t_fb_approx=void 0)))},checkPreRender:function(){return!!(c.webkitVisibilityState&&"prerender"===c.webkitVisibilityState||c.msVisibilityState&&3===c.msVisibilityState)&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),BOOMR.subscribe("visibility_changed",BOOMR.plugins.RT.done,null,BOOMR.plugins.RT),!0)},initNavTiming:function(){var b,c,d;this.navigationStart||(c=a.performance||a.msPerformance||a.webkitPerformance||a.mozPerformance,c&&c.navigation&&(this.navigationType=c.navigation.type),c&&c.timing?b=c.timing:a.chrome&&a.chrome.csi&&a.chrome.csi().startE?(b={navigationStart:a.chrome.csi().startE},d="csi"):a.gtbExternal&&a.gtbExternal.startE()&&(b={navigationStart:a.gtbExternal.startE()},d="gtb"),b?(BOOMR.addVar("rt.start",d||"navigation"),this.navigationStart=b.navigationStart||b.fetchStart||void 0,this.responseStart=b.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=b.unloadEventStart||b.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt"))},page_unload:function(a){BOOMR.debug("Unload called with "+BOOMR.utils.objectToString(a),"rt"),this.setCookie("beforeunload"===a.type?"ul":"hd")},onclick:function(a){if(a){for(BOOMR.debug("Click called with "+a.nodeName,"rt");a&&"A"!==a.nodeName.toUpperCase();)a=a.parentNode;a&&"A"===a.nodeName.toUpperCase()&&(BOOMR.debug("passing through","rt"),this.setCookie("cl",a.href))}},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")}},BOOMR.plugins.RT={init:function(d){return BOOMR.debug("init RT","rt"),a!==BOOMR.window&&(a=BOOMR.window,c=a.document),BOOMR.utils.pluginConfig(b,d,"RT",["cookie","cookie_exp","strict_referrer"]),b.initFromCookie(),b.initialized?this:(b.complete=!1,b.timers={},BOOMR.subscribe("page_ready",this.done,null,this),BOOMR.subscribe("dom_loaded",b.domloaded,null,b),BOOMR.subscribe("page_unload",b.page_unload,null,b),BOOMR.subscribe("click",b.onclick,null,b),BOOMR.t_start,b.r=b.r2=c.referrer.replace(/#.*/,""),b.initialized=!0,this)},startTimer:function(a,c){return a&&("t_page"===a&&this.endTimer("t_resp",c),b.timers[a]={start:"number"==typeof c?c:(new Date).getTime()},b.complete=!1),this},endTimer:function(a,c){return a&&(b.timers[a]=b.timers[a]||{},void 0===b.timers[a].end&&(b.timers[a].end="number"==typeof c?c:(new Date).getTime())),this},setTimer:function(a,c){return a&&(b.timers[a]={delta:c}),this},done:function(){BOOMR.debug("Called done","rt");var a,c,d,e=(new Date).getTime(),f={t_done:1,t_resp:1,t_page:1},g=0,h={};if(b.complete=!1,b.initFromCookie(),b.initNavTiming(),b.checkPreRender())return this;b.responseStart?(this.endTimer("t_resp",b.responseStart),b.timers.t_load?this.setTimer("t_page",b.timers.t_load.end-b.responseStart):this.setTimer("t_page",e-b.responseStart)):b.timers.hasOwnProperty("t_page")?this.endTimer("t_page"):b.t_fb_approx&&(b.timers.hasOwnProperty("impl.t_fb_approx"),this.endTimer("t_resp",b.t_fb_approx),this.setTimer("t_page",e-b.t_fb_approx)),b.timers.hasOwnProperty("t_postrender")&&(this.endTimer("t_postrender"),this.endTimer("t_prerender")),b.navigationStart?a=b.navigationStart:b.t_start&&2!==b.navigationType?(a=b.t_start,BOOMR.addVar("rt.start","cookie")):(BOOMR.addVar("rt.start","none"),a=void 0),this.endTimer("t_done",e),BOOMR.removeVar("t_done","t_page","t_resp","r","r2","rt.tstart","rt.bstart","rt.end","t_postrender","t_prerender","t_load"),BOOMR.addVar("rt.tstart",a),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.addVar("rt.end",b.timers.t_done.end);for(c in b.timers)if(b.timers.hasOwnProperty(c)){if(d=b.timers[c],"number"!=typeof d.delta&&("number"!=typeof d.start&&(d.start=a),d.delta=d.end-d.start),isNaN(d.delta))continue;f.hasOwnProperty(c)?BOOMR.addVar(c,d.delta):h[c]=d.delta,g++}return g&&(BOOMR.addVar("r",b.r),b.r2!==b.r&&BOOMR.addVar("r2",b.r2),BOOMR.addVar("t_resr",h)),b.timers={},b.complete=!0,BOOMR.sendBeacon(),this},is_complete:function(){return b.complete}}}(window),function(){var a,b;BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},b=[{name:"image-0.png",size:11483,timeout:1400},{name:"image-1.png",size:40658,timeout:1200},{name:"image-2.png",size:164897,timeout:1300},{name:"image-3.png",size:381756,timeout:1500},{name:"image-4.png",size:1234664,timeout:1200},{name:"image-5.png",size:4509613,timeout:1200},{name:"image-6.png",size:9084559,timeout:1200}],b.end=b.length,b.start=0,b.l={name:"image-l.gif",size:35,timeout:1e3},a={base_url:"",timeout:15e3,nruns:5,latency_runs:10,user_ip:"",cookie_exp:604800,cookie:"BA",results:[],latencies:[],latency:null,runs_left:0,aborted:!1,complete:!0,running:!1,initialized:!1,ncmp:function(a,b){return a-b},iqr:function(a){var b,c,d,e,f=a.length-1,g=[];for(b=(a[Math.floor(.25*f)]+a[Math.ceil(.25*f)])/2,c=(a[Math.floor(.75*f)]+a[Math.ceil(.75*f)])/2,d=1.5*(c-b),f++,e=0;e<f&&a[e]<c+d;e++)a[e]>b-d&&g.push(a[e]);return g},calc_latency:function(){var a,b,c,d,e,f,g,h=0,i=0;for(g=this.iqr(this.latencies.sort(this.ncmp)),b=g.length,BOOMR.debug(g,"bw"),a=1;a<b;a++)h+=g[a],i+=g[a]*g[a];return b--,c=Math.round(h/b),e=Math.sqrt(i/b-h*h/(b*b)),f=(1.96*e/Math.sqrt(b)).toFixed(2),e=e.toFixed(2),b=g.length-1,d=Math.round((g[Math.floor(b/2)]+g[Math.ceil(b/2)])/2),{mean:c,median:d,stddev:e,stderr:f}},calc_bw:function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p=0,q=[],r=[],s=0,t=0,u=0,v=0,w=[];for(a=0;a<this.nruns;a++)if(this.results[a]&&this.results[a].r)for(d=this.results[a].r,m=0,c=d.length-1;c>=0&&m<3&&d[c];c--)null!==d[c].t&&(p++,m++,n=1e3*b[c].size/d[c].t,q.push(n),o=1e3*b[c].size/(d[c].t-this.latency.mean),r.push(o),d[c].t<this.latency.mean&&w.push(c+"_"+d[c].t));for(BOOMR.debug("got "+p+" readings","bw"),BOOMR.debug("bandwidths: "+q,"bw"),BOOMR.debug("corrected: "+r,"bw"),q.length>3?(q=this.iqr(q.sort(this.ncmp)),r=this.iqr(r.sort(this.ncmp))):(q=q.sort(this.ncmp),r=r.sort(this.ncmp)),BOOMR.debug("after iqr: "+q,"bw"),BOOMR.debug("corrected: "+r,"bw"),p=Math.max(q.length,r.length),a=0;a<p;a++)a<q.length&&(s+=q[a],t+=Math.pow(q[a],2)),a<r.length&&(u+=r[a],v+=Math.pow(r[a],2));return p=q.length,e=Math.round(s/p),f=Math.sqrt(t/p-Math.pow(s/p,2)),g=Math.round(1.96*f/Math.sqrt(p)),f=Math.round(f),p=q.length-1,h=Math.round((q[Math.floor(p/2)]+q[Math.ceil(p/2)])/2),p=r.length,i=Math.round(u/p),j=Math.sqrt(v/p-Math.pow(u/p,2)),k=(1.96*j/Math.sqrt(p)).toFixed(2),j=j.toFixed(2),p=r.length-1,l=Math.round((r[Math.floor(p/2)]+r[Math.ceil(p/2)])/2),BOOMR.debug("amean: "+e+", median: "+h,"bw"),BOOMR.debug("corrected amean: "+i+", median: "+l,"bw"),{mean:e,stddev:f,stderr:g,median:h,mean_corrected:i,stddev_corrected:j,stderr_corrected:k,median_corrected:l,debug_info:w}},defer:function(a){var b=this;return setTimeout(function(){a.call(b),b=null},10)},load_img:function(a,c,d){var e=this.base_url+b[a].name+"?t="+(new Date).getTime()+Math.random(),f=0,g=0,h=new Image,i=this;h.onload=function(){h.onload=h.onerror=null,h=null,clearTimeout(f),d&&d.call(i,a,g,c,!0),i=d=null},h.onerror=function(){h.onload=h.onerror=null,h=null,clearTimeout(f),d&&d.call(i,a,g,c,!1),i=d=null},f=setTimeout(function(){d&&d.call(i,a,g,c,null)},b[a].timeout+Math.min(400,this.latency?this.latency.mean:400)),g=(new Date).getTime(),h.src=e},lat_loaded:function(a,b,c,d){if(c===this.latency_runs+1){if(null!==d){var e=(new Date).getTime()-b;this.latencies.push(e)}0===this.latency_runs&&(this.latency=this.calc_latency()),this.defer(this.iterate)}},img_loaded:function(a,c,d,e){if(d===this.runs_left+1&&!this.results[this.nruns-d].r[a]){if(null===e)return void(this.results[this.nruns-d].r[a+1]={t:null,state:null,run:d});var f={start:c,end:(new Date).getTime(),t:null,state:e,run:d};e&&(f.t=f.end-f.start),this.results[this.nruns-d].r[a]=f,a>=b.end-1||void 0!==this.results[this.nruns-d].r[a+1]?(BOOMR.debug(this.results[this.nruns-d],"bw"),d===this.nruns&&(b.start=a),this.defer(this.iterate)):this.load_img(a+1,d,this.img_loaded)}},finish:function(){this.latency||(this.latency=this.calc_latency());var a=this.calc_bw(),b={bw:a.median_corrected,bw_err:parseFloat(a.stderr_corrected,10),lat:this.latency.mean,lat_err:parseFloat(this.latency.stderr,10),bw_time:Math.round((new Date).getTime()/1e3)};BOOMR.addVar(b),a.debug_info.length>0&&BOOMR.addVar("bw_debug",a.debug_info.join(",")),!isNaN(b.bw)&&b.bw>0&&BOOMR.utils.setCookie(this.cookie,{ba:Math.round(b.bw),be:b.bw_err,l:b.lat,le:b.lat_err,ip:this.user_ip,t:b.bw_time},this.user_ip?this.cookie_exp:0),this.complete=!0,BOOMR.sendBeacon(),this.running=!1},iterate:function(){return!this.aborted&&void(this.runs_left?this.latency_runs?this.load_img("l",this.latency_runs--,this.lat_loaded):(this.results.push({r:[]}),this.load_img(b.start,this.runs_left--,this.img_loaded)):this.finish())},setVarsFromCookie:function(a){var b=parseInt(a.ba,10),c=parseFloat(a.be,10),d=parseInt(a.l,10)||0,e=parseFloat(a.le,10)||0,f=a.ip.replace(/\.\d+$/,"0"),g=parseInt(a.t,10),h=this.user_ip.replace(/\.\d+$/,"0"),i=Math.round((new Date).getTime()/1e3);return f===h&&g>=i-this.cookie_exp&&b>0&&(this.complete=!0,BOOMR.addVar({bw:b,lat:d,bw_err:c,lat_err:e}),!0)}},BOOMR.plugins.BW={init:function(c){var d;return a.initialized?this:(BOOMR.utils.pluginConfig(a,c,"BW",["base_url","timeout","nruns","cookie","cookie_exp"]),c&&c.user_ip&&(a.user_ip=c.user_ip),a.base_url?(b.start=0,a.runs_left=a.nruns,a.latency_runs=10,a.results=[],a.latencies=[],a.latency=null,a.complete=!1,a.aborted=!1,BOOMR.removeVar("ba","ba_err","lat","lat_err"),d=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(a.cookie)),d&&d.ba&&a.setVarsFromCookie(d)||(BOOMR.subscribe("page_ready",this.run,null,this),BOOMR.subscribe("page_unload",this.skip,null,this)),a.initialized=!0,this):this)},run:function(){return a.running||a.complete?this:"https:"===BOOMR.window.location.protocol?(BOOMR.info("HTTPS detected, skipping bandwidth test","bw"),a.complete=!0,BOOMR.sendBeacon(),this):(a.running=!0,setTimeout(this.abort,a.timeout),a.defer(a.iterate),this)},abort:function(){return a.aborted=!0,a.running&&a.finish(),this},skip:function(){return a.complete||(a.complete=!0,BOOMR.sendBeacon()),this},is_complete:function(){return a.complete}}}();var D=Object.freeze({init:i});window.nLogger=D}();